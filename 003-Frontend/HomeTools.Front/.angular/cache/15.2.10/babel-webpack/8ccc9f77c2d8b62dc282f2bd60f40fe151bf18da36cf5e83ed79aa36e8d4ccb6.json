{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/Financas/despesa.service\";\nimport * as i2 from \"src/app/services/categoria.service\";\nimport * as i3 from \"src/app/services/validacao.service\";\nimport * as i4 from \"src/app/services/resposta-api.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\nfunction IncluirDespesaComponent_option_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const categoria_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", categoria_r1.Id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(categoria_r1.Descricao);\n  }\n}\nexport class IncluirDespesaComponent {\n  constructor(despesaService, categoriaService, validacaoService, respostaApiService, router) {\n    this.despesaService = despesaService;\n    this.categoriaService = categoriaService;\n    this.validacaoService = validacaoService;\n    this.respostaApiService = respostaApiService;\n    this.router = router;\n    this.Despesa = {};\n    this.Categorias = {};\n  }\n  ngOnInit() {\n    this.Despesa.CategoriaId = 0;\n    this.Despesa.QtdParcelas = 1;\n    this.categoriaService.listar().subscribe({\n      next: result => {\n        this.Categorias = result.valor;\n      },\n      error: err => {\n        this.respostaApiService.tratarRespostaApi(err);\n        this.router.navigate(['/despesas']);\n      }\n    });\n  }\n  salvarDespesa() {\n    if (!this.validarCamposObrigatorios()) {\n      return;\n    }\n    this.despesaService.incluir(this.Despesa).subscribe({\n      next: result => {\n        this.respostaApiService.tratarRespostaApi(result);\n        this.router.navigate(['/despesas']);\n      },\n      error: err => {\n        this.respostaApiService.tratarRespostaApi(err);\n      }\n    });\n  }\n  cancelar() {\n    this.router.navigate(['/despesas']);\n  }\n  //#region Validações\n  validarCamposObrigatorios() {\n    let erros = 0;\n    let camposObrigatorios = ['txtDescricao', 'txtDataDespesa', 'txtValorInteiro', 'txtValorCentavos'];\n    camposObrigatorios.forEach(campo => {\n      if (!this.campoObrigatorio(campo)) {\n        erros++;\n      }\n    });\n    return erros == 0 ? true : false;\n  }\n  campoObrigatorio(campoId) {\n    let campo = document.getElementById(campoId);\n    let campoErro = document.getElementById('erro_' + campoId);\n    if (campo.value === \"\" || campo.value == null || campo.value == undefined || campo.tagName == 'SELECT' && campo.value == '0') {\n      campo.classList.add('campo-obrigatorio');\n      campoErro.style.display = 'block';\n      campoErro.innerHTML = \"Campo obrigatório\";\n      return false;\n    } else {\n      campoErro.style.display = 'none';\n      campo.classList.remove('campo-obrigatorio');\n      return true;\n    }\n  }\n  apenasNumerosPositivos(event) {\n    if (!this.validacaoService.apenasNumerosPositivos(event)) {\n      event.preventDefault();\n    }\n  }\n  apenasNumeros(event) {\n    if (!this.validacaoService.apenasNumeros(event)) {\n      event.preventDefault();\n    }\n  }\n  static #_ = this.ɵfac = function IncluirDespesaComponent_Factory(t) {\n    return new (t || IncluirDespesaComponent)(i0.ɵɵdirectiveInject(i1.DespesaService), i0.ɵɵdirectiveInject(i2.CategoriaService), i0.ɵɵdirectiveInject(i3.ValidacaoService), i0.ɵɵdirectiveInject(i4.RespostaApiService), i0.ɵɵdirectiveInject(i5.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: IncluirDespesaComponent,\n    selectors: [[\"app-incluir-despesa\"]],\n    decls: 53,\n    vars: 7,\n    consts: [[1, \"container\", \"main\", \"ff-verdana\"], [1, \"titulo-pagina\", \"ff-verdana\"], [1, \"form\", \"conteudo-pagina\", 3, \"ngSubmit\"], [1, \"row\"], [1, \"col-4\"], [1, \"form-group\"], [\"for\", \"descricao\"], [\"type\", \"text\", \"id\", \"txtDescricao\", \"placeholder\", \"Descri\\u00E7\\u00E3o\", \"name\", \"Descricao\", 1, \"form-control\", 3, \"ngModel\", \"focusout\", \"ngModelChange\"], [\"id\", \"erro_txtDescricao\", 1, \"form-validation\"], [\"for\", \"txtDataDespesa\"], [\"type\", \"date\", \"id\", \"txtDataDespesa\", \"placeholder\", \"Data\", \"name\", \"Data\", 1, \"form-control\", 3, \"ngModel\", \"focusout\", \"keypress\", \"paste\", \"ngModelChange\"], [\"id\", \"erro_txtDataDespesa\", 1, \"form-validation\"], [\"for\", \"selCategoriaId\"], [\"name\", \"CategoriaId\", \"id\", \"selCategoriaId\", 1, \"form-control\", 3, \"ngModel\", \"focusout\", \"ngModelChange\"], [\"value\", \"0\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"erro_selCategoriaId\", 1, \"form-validation\"], [\"id\", \"divValor\", 1, \"row\"], [\"for\", \"txtValorInteiro\"], [\"type\", \"text\", \"id\", \"txtValorInteiro\", \"placeholder\", \"Valor\", \"name\", \"ValorInteiro\", 1, \"form-control\", 3, \"ngModel\", \"focusout\", \"keypress\", \"paste\", \"ngModelChange\"], [\"id\", \"erro_txtValorInteiro\", 1, \"form-validation\"], [\"for\", \"txtValorCentavos\"], [\"type\", \"text\", \"id\", \"txtValorCentavos\", \"placeholder\", \"Valor Centavos\", \"name\", \"ValorCentavos\", 1, \"form-control\", 3, \"ngModel\", \"focusout\", \"keypress\", \"paste\", \"ngModelChange\"], [\"id\", \"erro_txtValorCentavos\", 1, \"form-validation\"], [\"for\", \"txtQtdParcelas\"], [\"type\", \"number\", \"min\", \"1\", \"step\", \"1\", \"id\", \"txtQtdParcelas\", \"placeholder\", \"Qtd. Parcelas\", \"name\", \"Parcelas\", 1, \"form-control\", 3, \"ngModel\", \"focusout\", \"keypress\", \"paste\", \"ngModelChange\"], [\"id\", \"erro_txtQtdParcelas\", 1, \"form-validation\"], [1, \"col-12\"], [\"type\", \"submit\", \"id\", \"btnSumbit\", \"title\", \"Salvar\", 1, \"btn\"], [\"type\", \"button\", \"id\", \"btnCancelar\", \"title\", \"Cancelar\", 1, \"btn\", \"btn-red\", 3, \"click\"], [3, \"value\"]],\n    template: function IncluirDespesaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n        i0.ɵɵtext(3, \"Incluir Despesa\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"form\", 2);\n        i0.ɵɵlistener(\"ngSubmit\", function IncluirDespesaComponent_Template_form_ngSubmit_4_listener() {\n          return ctx.salvarDespesa();\n        });\n        i0.ɵɵelementStart(5, \"div\", 3)(6, \"div\", 4)(7, \"div\", 5)(8, \"label\", 6);\n        i0.ɵɵtext(9, \"Descri\\u00E7\\u00E3o\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"input\", 7);\n        i0.ɵɵlistener(\"focusout\", function IncluirDespesaComponent_Template_input_focusout_10_listener() {\n          return ctx.campoObrigatorio(\"txtDescricao\");\n        })(\"ngModelChange\", function IncluirDespesaComponent_Template_input_ngModelChange_10_listener($event) {\n          return ctx.Despesa.Descricao = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"label\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 4)(13, \"div\", 5)(14, \"label\", 9);\n        i0.ɵɵtext(15, \"Data\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"input\", 10);\n        i0.ɵɵlistener(\"focusout\", function IncluirDespesaComponent_Template_input_focusout_16_listener() {\n          return ctx.campoObrigatorio(\"txtDataDespesa\");\n        })(\"keypress\", function IncluirDespesaComponent_Template_input_keypress_16_listener($event) {\n          return ctx.apenasNumeros($event);\n        })(\"paste\", function IncluirDespesaComponent_Template_input_paste_16_listener($event) {\n          return ctx.apenasNumeros($event);\n        })(\"ngModelChange\", function IncluirDespesaComponent_Template_input_ngModelChange_16_listener($event) {\n          return ctx.Despesa.DataDespesa = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"label\", 11);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"div\", 4)(19, \"div\", 5)(20, \"label\", 12);\n        i0.ɵɵtext(21, \"Categoria\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"select\", 13);\n        i0.ɵɵlistener(\"focusout\", function IncluirDespesaComponent_Template_select_focusout_22_listener() {\n          return ctx.campoObrigatorio(\"selCategoriaId\");\n        })(\"ngModelChange\", function IncluirDespesaComponent_Template_select_ngModelChange_22_listener($event) {\n          return ctx.Despesa.CategoriaId = $event;\n        });\n        i0.ɵɵelementStart(23, \"option\", 14);\n        i0.ɵɵtext(24, \"Selecione...\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(25, IncluirDespesaComponent_option_25_Template, 2, 2, \"option\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(26, \"label\", 16);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(27, \"div\", 17)(28, \"div\", 4)(29, \"div\", 5)(30, \"label\", 18);\n        i0.ɵɵtext(31, \"Valor inteiro\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"input\", 19);\n        i0.ɵɵlistener(\"focusout\", function IncluirDespesaComponent_Template_input_focusout_32_listener() {\n          return ctx.campoObrigatorio(\"txtValorInteiro\");\n        })(\"keypress\", function IncluirDespesaComponent_Template_input_keypress_32_listener($event) {\n          return ctx.apenasNumeros($event);\n        })(\"paste\", function IncluirDespesaComponent_Template_input_paste_32_listener($event) {\n          return ctx.apenasNumeros($event);\n        })(\"ngModelChange\", function IncluirDespesaComponent_Template_input_ngModelChange_32_listener($event) {\n          return ctx.Despesa.ValorInteiro = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(33, \"label\", 20);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(34, \"div\", 4)(35, \"div\", 5)(36, \"label\", 21);\n        i0.ɵɵtext(37, \"Valor centavos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"input\", 22);\n        i0.ɵɵlistener(\"focusout\", function IncluirDespesaComponent_Template_input_focusout_38_listener() {\n          return ctx.campoObrigatorio(\"txtValorCentavos\");\n        })(\"keypress\", function IncluirDespesaComponent_Template_input_keypress_38_listener($event) {\n          return ctx.apenasNumeros($event);\n        })(\"paste\", function IncluirDespesaComponent_Template_input_paste_38_listener($event) {\n          return ctx.apenasNumeros($event);\n        })(\"ngModelChange\", function IncluirDespesaComponent_Template_input_ngModelChange_38_listener($event) {\n          return ctx.Despesa.ValorCentavos = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(39, \"label\", 23);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(40, \"div\", 4)(41, \"div\", 5)(42, \"label\", 24);\n        i0.ɵɵtext(43, \"Qtd. Parcelas\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"input\", 25);\n        i0.ɵɵlistener(\"focusout\", function IncluirDespesaComponent_Template_input_focusout_44_listener() {\n          return ctx.campoObrigatorio(\"txtQtdParcelas\");\n        })(\"keypress\", function IncluirDespesaComponent_Template_input_keypress_44_listener($event) {\n          return ctx.apenasNumerosPositivos($event);\n        })(\"paste\", function IncluirDespesaComponent_Template_input_paste_44_listener($event) {\n          return ctx.apenasNumerosPositivos($event);\n        })(\"ngModelChange\", function IncluirDespesaComponent_Template_input_ngModelChange_44_listener($event) {\n          return ctx.Despesa.QtdParcelas = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(45, \"label\", 26);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(46, \"div\", 3)(47, \"div\", 27)(48, \"div\", 5)(49, \"button\", 28);\n        i0.ɵɵtext(50, \"Salvar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(51, \"button\", 29);\n        i0.ɵɵlistener(\"click\", function IncluirDespesaComponent_Template_button_click_51_listener() {\n          return ctx.cancelar();\n        });\n        i0.ɵɵtext(52, \"Cancelar\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngModel\", ctx.Despesa.Descricao);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.Despesa.DataDespesa);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.Despesa.CategoriaId);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.Categorias);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.Despesa.ValorInteiro);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.Despesa.ValorCentavos);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.Despesa.QtdParcelas);\n      }\n    },\n    dependencies: [i6.NgForOf, i7.ɵNgNoValidate, i7.NgSelectOption, i7.ɵNgSelectMultipleOption, i7.DefaultValueAccessor, i7.NumberValueAccessor, i7.SelectControlValueAccessor, i7.NgControlStatus, i7.NgControlStatusGroup, i7.MinValidator, i7.NgModel, i7.NgForm],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["i0","IncluirDespesaComponent","constructor","despesaService","categoriaService","validacaoService","respostaApiService","router","ngOnInit","Despesa","CategoriaId","QtdParcelas","listar","subscribe","next","result","Categorias","valor","error","err","tratarRespostaApi","navigate","salvarDespesa","validarCamposObrigatorios","incluir","cancelar","erros","camposObrigatorios","forEach","campo","campoObrigatorio","campoId","document","getElementById","campoErro","value","undefined","tagName","classList","add","style","display","innerHTML","remove","apenasNumerosPositivos","event","preventDefault","apenasNumeros","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\GIT\\HomeTools\\003-Frontend\\HomeTools.Front\\src\\app\\components\\financas\\despesas\\incluir-despesa\\incluir-despesa.component.html","D:\\GIT\\HomeTools\\003-Frontend\\HomeTools.Front\\src\\app\\components\\financas\\despesas\\incluir-despesa\\incluir-despesa.component.ts"],"sourcesContent":["<div class=\"container main ff-verdana\">\n  <div class=\"titulo-pagina ff-verdana\">\n    <h1>Incluir Despesa</h1>\n  </div>\n  <form (ngSubmit)=\"salvarDespesa()\" class=\"form conteudo-pagina\">\n    <div class=\"row\">\n      <div class=\"col-4\">\n        <div class=\"form-group\">\n          <label for=\"descricao\">Descrição</label>\n          <input type=\"text\" class=\"form-control\" id=\"txtDescricao\" placeholder=\"Descrição\" name=\"Descricao\"\n          (focusout)=\"campoObrigatorio('txtDescricao')\" [(ngModel)]=\"Despesa.Descricao\">\n          <label class=\"form-validation\" id=\"erro_txtDescricao\"></label>\n        </div>\n      </div>\n      <div class=\"col-4\">\n        <div class=\"form-group\">\n          <label for=\"txtDataDespesa\">Data</label>\n          <input type=\"date\" class=\"form-control\" id=\"txtDataDespesa\" placeholder=\"Data\" name=\"Data\"\n          (focusout)=\"campoObrigatorio('txtDataDespesa')\"\n          (keypress)=\"apenasNumeros($event)\" (paste)=\"apenasNumeros($event)\" [(ngModel)]=\"Despesa.DataDespesa\">\n          <label class=\"form-validation\" id=\"erro_txtDataDespesa\"></label>\n        </div>\n      </div>\n      <div class=\"col-4\">\n        <div class=\"form-group\">\n          <label for=\"selCategoriaId\">Categoria</label>\n          <select name=\"CategoriaId\" id=\"selCategoriaId\" class=\"form-control\" (focusout)=\"campoObrigatorio('selCategoriaId')\" [(ngModel)]=\"Despesa.CategoriaId\">\n            <option value=\"0\">Selecione...</option>\n            <option *ngFor=\"let categoria of Categorias\" [value]=\"categoria.Id\">{{ categoria.Descricao }}</option>\n          </select>\n          <label class=\"form-validation\" id=\"erro_selCategoriaId\"></label>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\" id=\"divValor\">\n      <div class=\"col-4\">\n        <div class=\"form-group\">\n          <label for=\"txtValorInteiro\">Valor inteiro</label>\n          <input type=\"text\" class=\"form-control\" id=\"txtValorInteiro\" placeholder=\"Valor\" name=\"ValorInteiro\"\n          (focusout)=\"campoObrigatorio('txtValorInteiro')\"\n          (keypress)=\"apenasNumeros($event)\" (paste)=\"apenasNumeros($event)\" [(ngModel)]=\"Despesa.ValorInteiro\">\n          <label class=\"form-validation\" id=\"erro_txtValorInteiro\"></label>\n        </div>\n      </div>\n      <div class=\"col-4\">\n        <div class=\"form-group\">\n          <label for=\"txtValorCentavos\">Valor centavos</label>\n          <input type=\"text\" class=\"form-control\" id=\"txtValorCentavos\" placeholder=\"Valor Centavos\" name=\"ValorCentavos\"\n          (focusout)=\"campoObrigatorio('txtValorCentavos')\"\n          (keypress)=\"apenasNumeros($event)\" (paste)=\"apenasNumeros($event)\" [(ngModel)]=\"Despesa.ValorCentavos\">\n          <label class=\"form-validation\" id=\"erro_txtValorCentavos\"></label>\n        </div>\n      </div>\n      <div class=\"col-4\">\n        <div class=\"form-group\">\n          <label for=\"txtQtdParcelas\">Qtd. Parcelas</label>\n          <input type=\"number\" min=\"1\" step=\"1\" class=\"form-control\" id=\"txtQtdParcelas\" placeholder=\"Qtd. Parcelas\" name=\"Parcelas\"\n          (focusout)=\"campoObrigatorio('txtQtdParcelas')\"\n          (keypress)=\"apenasNumerosPositivos($event)\" (paste)=\"apenasNumerosPositivos($event)\" [(ngModel)]=\"Despesa.QtdParcelas\">\n          <label class=\"form-validation\" id=\"erro_txtQtdParcelas\"></label>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <div class=\"form-group\">\n          <button type=\"submit\" id=\"btnSumbit\" title=\"Salvar\" class=\"btn\">Salvar</button>\n          <button type=\"button\" id=\"btnCancelar\" title=\"Cancelar\" class=\"btn btn-red\" (click)=\"cancelar()\">Cancelar</button>\n        </div>\n      </div>\n  </div>\n</form>\n\n","import { DespesaService } from 'src/app/services/Financas/despesa.service';\nimport { Component, OnInit } from '@angular/core';\nimport { CategoriaService } from 'src/app/services/categoria.service';\nimport { ValidacaoService } from 'src/app/services/validacao.service';\nimport { RespostaApiService } from 'src/app/services/resposta-api.service';\nimport { Router } from '@angular/router';\nimport { Categoria } from 'src/app/interfaces/categoria';\nimport { CreateDespesaDto } from 'src/app/dto/financas/despesas/createDespesaDto';\n\n@Component({\n  selector: 'app-incluir-despesa',\n  templateUrl: './incluir-despesa.component.html',\n  styleUrls: ['./incluir-despesa.component.css']\n})\nexport class IncluirDespesaComponent implements OnInit {\n\n  Despesa: CreateDespesaDto = {} as CreateDespesaDto;\n  Categorias: Categoria[] = {} as Categoria[];\n\n  constructor(\n    private despesaService: DespesaService,\n    private categoriaService: CategoriaService,\n    private validacaoService: ValidacaoService,\n    private respostaApiService: RespostaApiService,\n    private router: Router\n    ) { }\n\n  ngOnInit(): void {\n    this.Despesa.CategoriaId = 0;\n    this.Despesa.QtdParcelas = 1;\n    this.categoriaService.listar().subscribe({\n      next: (result) => {\n        this.Categorias = result.valor;\n      },\n      error: (err) => {\n        this.respostaApiService.tratarRespostaApi(err);\n        this.router.navigate(['/despesas']);\n      }\n    });\n  }\n\n  salvarDespesa() {\n    if (!this.validarCamposObrigatorios()) {\n      return;\n    }\n    this.despesaService.incluir(this.Despesa).subscribe({\n      next: (result) => {\n        this.respostaApiService.tratarRespostaApi(result);\n        this.router.navigate(['/despesas']);\n      },\n      error: (err) => {\n        this.respostaApiService.tratarRespostaApi(err);\n      }\n    });\n  }\n\n  cancelar() {\n    this.router.navigate(['/despesas']);\n  }\n\n  //#region Validações\n\n  validarCamposObrigatorios(): boolean {\n    let erros: number = 0;\n    let camposObrigatorios = ['txtDescricao', 'txtDataDespesa', 'txtValorInteiro', 'txtValorCentavos'];\n    camposObrigatorios.forEach(campo => {\n      if (!this.campoObrigatorio(campo)) {\n        erros++;\n      }\n    });\n    return erros == 0 ? true : false;\n  }\n\n  campoObrigatorio(campoId: string): boolean {\n    let campo = <HTMLInputElement>document.getElementById(campoId)!;\n    let campoErro = document.getElementById('erro_' + campoId)!;\n    if (campo.value === \"\" || campo.value == null || campo.value == undefined || (campo.tagName == 'SELECT' && campo.value == '0')) {\n      campo.classList.add('campo-obrigatorio');\n      campoErro.style.display = 'block';\n      campoErro.innerHTML = \"Campo obrigatório\";\n      return false;\n    }\n    else {\n      campoErro.style.display = 'none';\n      campo.classList.remove('campo-obrigatorio');\n      return true;\n    }\n  }\n\n  apenasNumerosPositivos(event: any) {\n    if (!this.validacaoService.apenasNumerosPositivos(event)) {\n      event.preventDefault();\n    }\n  }\n\n  apenasNumeros(event: any) {\n    if (!this.validacaoService.apenasNumeros(event)) {\n      event.preventDefault();\n    }\n  }\n\n  //#endregion\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}