{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/validacao.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ModalFormularioAssinaturaComponent_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 29);\n    i0.ɵɵtext(1, \"Editar Assinatura\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ModalFormularioAssinaturaComponent_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 29);\n    i0.ɵɵtext(1, \"Incluir Assinatura\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class ModalFormularioAssinaturaComponent {\n  constructor(validacaoService, router) {\n    this.validacaoService = validacaoService;\n    this.router = router;\n    this.Assinatura = {};\n    this.Edicao = false;\n    this.CartaoId = 0;\n    this.AssinaturaChange = new EventEmitter();\n    this.EventoEdicao = new EventEmitter();\n  }\n  ngOnInit() {}\n  salvarDados() {\n    if (this.validarCamposObrigatorios()) {\n      this.Assinatura.CartaoId = this.CartaoId;\n      this.EventoEdicao.emit(this.Edicao);\n    }\n  }\n  fechar() {\n    this.router.navigateByUrl('/', {\n      skipLocationChange: true\n    }).then(() => {\n      this.router.navigate(['/cartoes/editar-cartao/' + this.CartaoId]);\n    });\n  }\n  //#region Validações\n  validarCamposObrigatorios() {\n    let erros = 0;\n    let camposObrigatorios = ['txtDescricaoAssinatura', 'txtDiaVencimentoAssinatura', 'txtValorInteiroAssinatura', 'txtValorCentavosAssinatura'];\n    camposObrigatorios.forEach(campo => {\n      if (!this.campoObrigatorio(campo)) {\n        erros++;\n      }\n    });\n    return erros == 0 ? true : false;\n  }\n  campoObrigatorio(campoId) {\n    let campo = document.getElementById(campoId);\n    let campoErro = document.getElementById('erro_' + campoId);\n    if (campo.value === '' || campo.value == null || campo.value == undefined || campo.tagName == 'SELECT' && campo.value == '0') {\n      campo.classList.add('campo-obrigatorio');\n      campoErro.style.display = 'block';\n      campoErro.innerHTML = 'Campo obrigatório';\n      return false;\n    } else {\n      campoErro.style.display = 'none';\n      campo.classList.remove('campo-obrigatorio');\n      return true;\n    }\n  }\n  apenasNumerosPositivos(event) {\n    if (!this.validacaoService.apenasNumerosPositivos(event)) {\n      event.preventDefault();\n    }\n  }\n  apenasNumeros(event) {\n    if (!this.validacaoService.apenasNumeros(event)) {\n      event.preventDefault();\n    }\n  }\n  static #_ = this.ɵfac = function ModalFormularioAssinaturaComponent_Factory(t) {\n    return new (t || ModalFormularioAssinaturaComponent)(i0.ɵɵdirectiveInject(i1.ValidacaoService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ModalFormularioAssinaturaComponent,\n    selectors: [[\"app-modal-formulario-assinatura\"]],\n    inputs: {\n      Assinatura: \"Assinatura\",\n      Edicao: \"Edicao\",\n      CartaoId: \"CartaoId\"\n    },\n    outputs: {\n      AssinaturaChange: \"AssinaturaChange\",\n      EventoEdicao: \"EventoEdicao\"\n    },\n    decls: 42,\n    vars: 6,\n    consts: [[\"id\", \"modalFormularioAssinatura\", 1, \"form-assinatura-modal\", \"ff-verdana\"], [1, \"modal\"], [1, \"cabecalho-modal\"], [\"class\", \"texto\", 4, \"ngIf\"], [1, \"btn-fechar\", 3, \"click\"], [\"src\", \"../../../../assets/img/fechar-icon.png\"], [1, \"conteudo-modal\"], [1, \"form\", \"form-assinatura\", 3, \"ngSubmit\"], [1, \"row\"], [1, \"col-4\"], [1, \"form-group\"], [\"for\", \"txtDescricaoAssinatura\"], [\"type\", \"text\", \"id\", \"txtDescricaoAssinatura\", \"placeholder\", \"Descri\\u00E7\\u00E3o\", \"name\", \"Descricao\", 1, \"form-control\", 3, \"ngModel\", \"focusout\", \"ngModelChange\"], [\"id\", \"erro_txtDescricaoAssinatura\", 1, \"form-validation\"], [1, \"col-2\"], [\"for\", \"txtDiaVencimentoAssinatura\"], [\"type\", \"number\", \"min\", \"1\", \"step\", \"1\", \"id\", \"txtDiaVencimentoAssinatura\", \"placeholder\", \"Dia Venc.\", \"name\", \"Parcelas\", 1, \"form-control\", 3, \"ngModel\", \"focusout\", \"keypress\", \"paste\", \"ngModelChange\"], [\"id\", \"erro_txtDiaVencimentoAssinatura\", 1, \"form-validation\"], [1, \"col-3\"], [\"for\", \"txtValorInteiroAssinatura\"], [\"type\", \"text\", \"id\", \"txtValorInteiroAssinatura\", \"placeholder\", \"Valor\", \"name\", \"ValorInteiro\", 1, \"form-control\", 3, \"ngModel\", \"focusout\", \"keypress\", \"paste\", \"ngModelChange\"], [\"id\", \"erro_txtValorInteiroAssinatura\", 1, \"form-validation\"], [\"for\", \"txtValorCentavosAssinatura\"], [\"type\", \"text\", \"id\", \"txtValorCentavosAssinatura\", \"placeholder\", \"Valor Centavos\", \"name\", \"ValorCentavos\", 1, \"form-control\", 3, \"ngModel\", \"focusout\", \"keypress\", \"paste\", \"ngModelChange\"], [\"id\", \"erro_txtValorCentavosAssinatura\", 1, \"form-validation\"], [1, \"col-12\"], [\"type\", \"submit\", \"id\", \"btnSumbit\", \"title\", \"Salvar\", 1, \"btn\"], [\"type\", \"button\", \"id\", \"btnCancelar\", \"title\", \"Cancelar\", 1, \"btn\", \"btn-red\", 3, \"click\"], [1, \"overlay\"], [1, \"texto\"]],\n    template: function ModalFormularioAssinaturaComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2);\n        i0.ɵɵtemplate(3, ModalFormularioAssinaturaComponent_span_3_Template, 2, 0, \"span\", 3);\n        i0.ɵɵtemplate(4, ModalFormularioAssinaturaComponent_span_4_Template, 2, 0, \"span\", 3);\n        i0.ɵɵelementStart(5, \"span\", 4);\n        i0.ɵɵlistener(\"click\", function ModalFormularioAssinaturaComponent_Template_span_click_5_listener() {\n          return ctx.fechar();\n        });\n        i0.ɵɵelement(6, \"img\", 5);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"div\", 6)(8, \"form\", 7);\n        i0.ɵɵlistener(\"ngSubmit\", function ModalFormularioAssinaturaComponent_Template_form_ngSubmit_8_listener() {\n          return ctx.salvarDados();\n        });\n        i0.ɵɵelementStart(9, \"div\", 8)(10, \"div\", 9)(11, \"div\", 10)(12, \"label\", 11);\n        i0.ɵɵtext(13, \"Descri\\u00E7\\u00E3o\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"input\", 12);\n        i0.ɵɵlistener(\"focusout\", function ModalFormularioAssinaturaComponent_Template_input_focusout_14_listener() {\n          return ctx.campoObrigatorio(\"txtDescricaoAssinatura\");\n        })(\"ngModelChange\", function ModalFormularioAssinaturaComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.Assinatura.Descricao = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"label\", 13);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"div\", 14)(17, \"div\", 10)(18, \"label\", 15);\n        i0.ɵɵtext(19, \"Dia Venc.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"input\", 16);\n        i0.ɵɵlistener(\"focusout\", function ModalFormularioAssinaturaComponent_Template_input_focusout_20_listener() {\n          return ctx.campoObrigatorio(\"txtDiaVencimentoAssinatura\");\n        })(\"keypress\", function ModalFormularioAssinaturaComponent_Template_input_keypress_20_listener($event) {\n          return ctx.apenasNumerosPositivos($event);\n        })(\"paste\", function ModalFormularioAssinaturaComponent_Template_input_paste_20_listener($event) {\n          return ctx.apenasNumerosPositivos($event);\n        })(\"ngModelChange\", function ModalFormularioAssinaturaComponent_Template_input_ngModelChange_20_listener($event) {\n          return ctx.Assinatura.DiaVencimento = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"label\", 17);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"div\", 18)(23, \"div\", 10)(24, \"label\", 19);\n        i0.ɵɵtext(25, \"Valor inteiro\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"input\", 20);\n        i0.ɵɵlistener(\"focusout\", function ModalFormularioAssinaturaComponent_Template_input_focusout_26_listener() {\n          return ctx.campoObrigatorio(\"txtValorInteiroAssinatura\");\n        })(\"keypress\", function ModalFormularioAssinaturaComponent_Template_input_keypress_26_listener($event) {\n          return ctx.apenasNumeros($event);\n        })(\"paste\", function ModalFormularioAssinaturaComponent_Template_input_paste_26_listener($event) {\n          return ctx.apenasNumeros($event);\n        })(\"ngModelChange\", function ModalFormularioAssinaturaComponent_Template_input_ngModelChange_26_listener($event) {\n          return ctx.Assinatura.ValorInteiro = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(27, \"label\", 21);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"div\", 18)(29, \"div\", 10)(30, \"label\", 22);\n        i0.ɵɵtext(31, \"Valor centavos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"input\", 23);\n        i0.ɵɵlistener(\"focusout\", function ModalFormularioAssinaturaComponent_Template_input_focusout_32_listener() {\n          return ctx.campoObrigatorio(\"txtValorCentavosAssinatura\");\n        })(\"keypress\", function ModalFormularioAssinaturaComponent_Template_input_keypress_32_listener($event) {\n          return ctx.apenasNumeros($event);\n        })(\"paste\", function ModalFormularioAssinaturaComponent_Template_input_paste_32_listener($event) {\n          return ctx.apenasNumeros($event);\n        })(\"ngModelChange\", function ModalFormularioAssinaturaComponent_Template_input_ngModelChange_32_listener($event) {\n          return ctx.Assinatura.ValorCentavos = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(33, \"label\", 24);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(34, \"div\", 8)(35, \"div\", 25)(36, \"div\", 10)(37, \"button\", 26);\n        i0.ɵɵtext(38, \"Salvar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"button\", 27);\n        i0.ɵɵlistener(\"click\", function ModalFormularioAssinaturaComponent_Template_button_click_39_listener() {\n          return ctx.fechar();\n        });\n        i0.ɵɵtext(40, \"Cancelar\");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵelement(41, \"div\", 28);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.Edicao);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.Edicao);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngModel\", ctx.Assinatura.Descricao);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.Assinatura.DiaVencimento);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.Assinatura.ValorInteiro);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.Assinatura.ValorCentavos);\n      }\n    },\n    dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NumberValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.MinValidator, i4.NgModel, i4.NgForm],\n    styles: [\".form-assinatura-modal[_ngcontent-%COMP%] {\\r\\n  display: none;\\r\\n}\\r\\n.modal[_ngcontent-%COMP%] {\\r\\n  width: 85%;\\r\\n  max-height: 85%;\\r\\n}\\r\\n.cabecalho-modal[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n  align-items: center;\\r\\n}\\r\\n.btn-fechar[_ngcontent-%COMP%] {\\r\\n  width: 28px;\\r\\n  height: 28px;\\r\\n}\\r\\n.btn-fechar[_ngcontent-%COMP%]:hover {\\r\\n  cursor: pointer;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9maW5hbmNhcy9jYXJ0b2VzL2Fzc2luYXR1cmFzL21vZGFsLWZvcm11bGFyaW8vbW9kYWwtZm9ybXVsYXJpby5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBYTtBQUNmO0FBQ0E7RUFDRSxVQUFVO0VBQ1YsZUFBZTtBQUNqQjtBQUNBO0VBQ0UsYUFBYTtFQUNiLDhCQUE4QjtFQUM5QixtQkFBbUI7QUFDckI7QUFDQTtFQUNFLFdBQVc7RUFDWCxZQUFZO0FBQ2Q7QUFDQTtFQUNFLGVBQWU7QUFDakIiLCJzb3VyY2VzQ29udGVudCI6WyIuZm9ybS1hc3NpbmF0dXJhLW1vZGFsIHtcclxuICBkaXNwbGF5OiBub25lO1xyXG59XHJcbi5tb2RhbCB7XHJcbiAgd2lkdGg6IDg1JTtcclxuICBtYXgtaGVpZ2h0OiA4NSU7XHJcbn1cclxuLmNhYmVjYWxoby1tb2RhbCB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG4uYnRuLWZlY2hhciB7XHJcbiAgd2lkdGg6IDI4cHg7XHJcbiAgaGVpZ2h0OiAyOHB4O1xyXG59XHJcbi5idG4tZmVjaGFyOmhvdmVyIHtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["EventEmitter","i0","ModalFormularioAssinaturaComponent","constructor","validacaoService","router","ngOnInit","salvarDados","validarCamposObrigatorios","Assinatura","CartaoId","EventoEdicao","emit","Edicao","fechar","navigateByUrl","skipLocationChange","then","navigate","erros","camposObrigatorios","forEach","campo","campoObrigatorio","campoId","document","getElementById","campoErro","value","undefined","tagName","classList","add","style","display","innerHTML","remove","apenasNumerosPositivos","event","preventDefault","apenasNumeros","selectors","inputs","outputs","AssinaturaChange","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\GIT\\HomeTools\\003-Frontend\\HomeTools.Front\\src\\app\\components\\financas\\cartoes\\assinaturas\\modal-formulario\\modal-formulario.component.ts","D:\\GIT\\HomeTools\\003-Frontend\\HomeTools.Front\\src\\app\\components\\financas\\cartoes\\assinaturas\\modal-formulario\\modal-formulario.component.html"],"sourcesContent":["import { Assinatura } from './../../../../../interfaces/financas/Assinatura';\nimport { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { CategoriaService } from 'src/app/services/categoria.service';\nimport { RespostaApiService } from 'src/app/services/resposta-api.service';\nimport { ValidacaoService } from 'src/app/services/validacao.service';\n\n@Component({\n  selector: 'app-modal-formulario-assinatura',\n  templateUrl: './modal-formulario.component.html',\n  styleUrls: ['./modal-formulario.component.css'],\n})\nexport class ModalFormularioAssinaturaComponent implements OnInit {\n\n  @Input() Assinatura: Assinatura = {} as Assinatura;\n  @Input() Edicao: boolean = false;\n  @Input() CartaoId: number = 0;\n  @Output() AssinaturaChange = new EventEmitter<Assinatura>();\n  @Output() EventoEdicao = new EventEmitter<boolean>();\n\n  constructor(\n    private validacaoService: ValidacaoService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {}\n\n  salvarDados() {\n    if (this.validarCamposObrigatorios()) {\n      this.Assinatura.CartaoId = this.CartaoId;\n      this.EventoEdicao.emit(this.Edicao);\n    }\n  }\n\n  fechar() {\n    this.router.navigateByUrl('/', { skipLocationChange: true }).then(() => {\n      this.router.navigate(['/cartoes/editar-cartao/' + this.CartaoId]);\n    });\n  }\n\n  //#region Validações\n\n  validarCamposObrigatorios(): boolean {\n    let erros: number = 0;\n    let camposObrigatorios = [\n      'txtDescricaoAssinatura',\n      'txtDiaVencimentoAssinatura',\n      'txtValorInteiroAssinatura',\n      'txtValorCentavosAssinatura',\n    ];\n    camposObrigatorios.forEach((campo) => {\n      if (!this.campoObrigatorio(campo)) {\n        erros++;\n      }\n    });\n    return erros == 0 ? true : false;\n  }\n\n  campoObrigatorio(campoId: string): boolean {\n    let campo = <HTMLInputElement>document.getElementById(campoId)!;\n    let campoErro = document.getElementById('erro_' + campoId)!;\n    if (\n      campo.value === '' ||\n      campo.value == null ||\n      campo.value == undefined ||\n      (campo.tagName == 'SELECT' && campo.value == '0')\n    ) {\n      campo.classList.add('campo-obrigatorio');\n      campoErro.style.display = 'block';\n      campoErro.innerHTML = 'Campo obrigatório';\n      return false;\n    } else {\n      campoErro.style.display = 'none';\n      campo.classList.remove('campo-obrigatorio');\n      return true;\n    }\n  }\n\n  apenasNumerosPositivos(event: any) {\n    if (!this.validacaoService.apenasNumerosPositivos(event)) {\n      event.preventDefault();\n    }\n  }\n\n  apenasNumeros(event: any) {\n    if (!this.validacaoService.apenasNumeros(event)) {\n      event.preventDefault();\n    }\n  }\n\n  //#endregion\n}\n","<section class=\"form-assinatura-modal ff-verdana\" id=\"modalFormularioAssinatura\">\n  <div class=\"modal\">\n    <div class=\"cabecalho-modal\">\n      <span *ngIf=\"Edicao\" class=\"texto\">Editar Assinatura</span>\n      <span *ngIf=\"!Edicao\" class=\"texto\">Incluir Assinatura</span>\n      <span class=\"btn-fechar\" (click)=\"fechar()\"><img src=\"../../../../assets/img/fechar-icon.png\"></span>\n    </div>\n    <div class=\"conteudo-modal\">\n      <form (ngSubmit)=\"salvarDados()\" class=\"form form-assinatura\">\n        <div class=\"row\">\n          <div class=\"col-4\">\n            <div class=\"form-group\">\n              <label for=\"txtDescricaoAssinatura\">Descrição</label>\n              <input type=\"text\" class=\"form-control\" id=\"txtDescricaoAssinatura\" placeholder=\"Descrição\" name=\"Descricao\"\n              (focusout)=\"campoObrigatorio('txtDescricaoAssinatura')\" [(ngModel)]=\"Assinatura.Descricao\">\n              <label class=\"form-validation\" id=\"erro_txtDescricaoAssinatura\"></label>\n            </div>\n          </div>\n          <div class=\"col-2\">\n            <div class=\"form-group\">\n              <label for=\"txtDiaVencimentoAssinatura\">Dia Venc.</label>\n              <input type=\"number\" min=\"1\" step=\"1\" class=\"form-control\" id=\"txtDiaVencimentoAssinatura\" placeholder=\"Dia Venc.\" name=\"Parcelas\"\n              (focusout)=\"campoObrigatorio('txtDiaVencimentoAssinatura')\"\n              (keypress)=\"apenasNumerosPositivos($event)\" (paste)=\"apenasNumerosPositivos($event)\" [(ngModel)]=\"Assinatura.DiaVencimento\">\n              <label class=\"form-validation\" id=\"erro_txtDiaVencimentoAssinatura\"></label>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label for=\"txtValorInteiroAssinatura\">Valor inteiro</label>\n              <input type=\"text\" class=\"form-control\" id=\"txtValorInteiroAssinatura\" placeholder=\"Valor\" name=\"ValorInteiro\"\n              (focusout)=\"campoObrigatorio('txtValorInteiroAssinatura')\"\n              (keypress)=\"apenasNumeros($event)\" (paste)=\"apenasNumeros($event)\" [(ngModel)]=\"Assinatura.ValorInteiro\">\n              <label class=\"form-validation\" id=\"erro_txtValorInteiroAssinatura\"></label>\n            </div>\n          </div>\n          <div class=\"col-3\">\n            <div class=\"form-group\">\n              <label for=\"txtValorCentavosAssinatura\">Valor centavos</label>\n              <input type=\"text\" class=\"form-control\" id=\"txtValorCentavosAssinatura\" placeholder=\"Valor Centavos\" name=\"ValorCentavos\"\n              (focusout)=\"campoObrigatorio('txtValorCentavosAssinatura')\"\n              (keypress)=\"apenasNumeros($event)\" (paste)=\"apenasNumeros($event)\" [(ngModel)]=\"Assinatura.ValorCentavos\">\n              <label class=\"form-validation\" id=\"erro_txtValorCentavosAssinatura\"></label>\n            </div>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-12\">\n            <div class=\"form-group\">\n              <button type=\"submit\" id=\"btnSumbit\" title=\"Salvar\" class=\"btn\">Salvar</button>\n              <button type=\"button\" id=\"btnCancelar\" title=\"Cancelar\" class=\"btn btn-red\" (click)=\"fechar()\">Cancelar</button>\n            </div>\n          </div>\n      </div>\n      </form>\n    </div>\n  </div>\n  <div class=\"overlay\"></div>\n</section>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}