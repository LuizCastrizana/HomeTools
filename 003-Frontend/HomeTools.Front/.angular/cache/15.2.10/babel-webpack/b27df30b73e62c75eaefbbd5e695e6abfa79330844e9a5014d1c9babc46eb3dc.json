{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/Financas/cartao/cartao.service\";\nimport * as i2 from \"src/app/services/validacao.service\";\nimport * as i3 from \"src/app/services/resposta-api.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/forms\";\nexport class IncluirCartaoComponent {\n  constructor(cartaoService, validacaoService, respostaApiService, router) {\n    this.cartaoService = cartaoService;\n    this.validacaoService = validacaoService;\n    this.respostaApiService = respostaApiService;\n    this.router = router;\n    this.Cartao = {};\n  }\n  ngOnInit() {}\n  salvarCartao() {\n    if (!this.validarCamposObrigatorios(true)) {\n      return;\n    }\n    this.cartaoService.incluir(this.Cartao).subscribe({\n      next: result => {\n        this.respostaApiService.tratarRespostaApi(result);\n        this.router.navigate(['/cartoes']);\n      },\n      error: err => {\n        this.respostaApiService.tratarRespostaApi(err);\n      }\n    });\n  }\n  cancelar() {\n    this.router.navigate(['/cartoes']);\n  }\n  //#region Validações\n  validarCamposObrigatorios(variavel) {\n    let erros = 0;\n    let camposObrigatorios = ['txtNome', 'txtDiaVencimento', 'txtDiaFechamento'];\n    camposObrigatorios.forEach(campo => {\n      if (!this.campoObrigatorio(campo)) {\n        erros++;\n      }\n    });\n    return erros == 0 ? true : false;\n  }\n  campoObrigatorio(campoId) {\n    let campo = document.getElementById(campoId);\n    let campoErro = document.getElementById('erro_' + campoId);\n    if (campo.value === \"\" || campo.value == null || campo.value == undefined || campo.tagName == 'SELECT' && campo.value == '0') {\n      campo.classList.add('campo-obrigatorio');\n      campoErro.style.display = 'block';\n      campoErro.innerHTML = \"Campo obrigatório\";\n      return false;\n    } else {\n      campoErro.style.display = 'none';\n      campo.classList.remove('campo-obrigatorio');\n      return true;\n    }\n  }\n  apenasNumeros(event) {\n    if (!this.validacaoService.apenasNumeros(event)) {\n      event.preventDefault();\n    }\n  }\n  static #_ = this.ɵfac = function IncluirCartaoComponent_Factory(t) {\n    return new (t || IncluirCartaoComponent)(i0.ɵɵdirectiveInject(i1.CartaoService), i0.ɵɵdirectiveInject(i2.ValidacaoService), i0.ɵɵdirectiveInject(i3.RespostaApiService), i0.ɵɵdirectiveInject(i4.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: IncluirCartaoComponent,\n    selectors: [[\"app-incluir-cartao\"]],\n    decls: 31,\n    vars: 3,\n    consts: [[1, \"container\", \"main\", \"ff-verdana\"], [1, \"titulo-pagina\", \"ff-verdana\"], [1, \"form\", \"conteudo-pagina\", 3, \"ngSubmit\"], [1, \"row\"], [1, \"col-4\"], [1, \"form-group\"], [\"for\", \"nome\"], [\"type\", \"text\", \"id\", \"txtNome\", \"name\", \"Nome\", \"placeholder\", \"Nome\", 1, \"form-control\", 3, \"ngModel\", \"focusout\", \"ngModelChange\"], [\"id\", \"erro_txtNome\", 1, \"form-validation\"], [\"type\", \"text\", \"id\", \"txtDiaVencimento\", \"name\", \"DiaVencimento\", \"placeholder\", \"Dia vencimento\", 1, \"form-control\", 3, \"ngModel\", \"focusout\", \"keypress\", \"paste\", \"ngModelChange\"], [\"id\", \"erro_txtDiaVencimento\", 1, \"form-validation\"], [\"type\", \"text\", \"id\", \"txtDiaFechamento\", \"name\", \"DiaFechamento\", \"placeholder\", \"Dia fechamento\", 1, \"form-control\", 3, \"ngModel\", \"focusout\", \"keypress\", \"paste\", \"ngModelChange\"], [\"id\", \"erro_txtDiaFechamento\", 1, \"form-validation\"], [1, \"col-12\"], [\"type\", \"submit\", \"id\", \"btnSumbit\", \"title\", \"Salvar\", 1, \"btn\"], [\"type\", \"button\", \"id\", \"btnCancelar\", \"title\", \"Cancelar\", 1, \"btn\", \"btn-red\", 3, \"click\"]],\n    template: function IncluirCartaoComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\");\n        i0.ɵɵtext(3, \"Incluir Cart\\u00E3o\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"form\", 2);\n        i0.ɵɵlistener(\"ngSubmit\", function IncluirCartaoComponent_Template_form_ngSubmit_4_listener() {\n          return ctx.salvarCartao();\n        });\n        i0.ɵɵelementStart(5, \"div\", 3)(6, \"div\", 4)(7, \"div\", 5)(8, \"label\", 6);\n        i0.ɵɵtext(9, \"Nome\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"input\", 7);\n        i0.ɵɵlistener(\"focusout\", function IncluirCartaoComponent_Template_input_focusout_10_listener() {\n          return ctx.campoObrigatorio(\"txtNome\");\n        })(\"ngModelChange\", function IncluirCartaoComponent_Template_input_ngModelChange_10_listener($event) {\n          return ctx.Cartao.Nome = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"label\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 4)(13, \"div\", 5)(14, \"label\", 6);\n        i0.ɵɵtext(15, \"Dia vencimento\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"input\", 9);\n        i0.ɵɵlistener(\"focusout\", function IncluirCartaoComponent_Template_input_focusout_16_listener() {\n          return ctx.campoObrigatorio(\"txtDiaVencimento\");\n        })(\"keypress\", function IncluirCartaoComponent_Template_input_keypress_16_listener($event) {\n          return ctx.apenasNumeros($event);\n        })(\"paste\", function IncluirCartaoComponent_Template_input_paste_16_listener($event) {\n          return ctx.apenasNumeros($event);\n        })(\"ngModelChange\", function IncluirCartaoComponent_Template_input_ngModelChange_16_listener($event) {\n          return ctx.Cartao.DiaVencimento = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"label\", 10);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(18, \"div\", 4)(19, \"div\", 5)(20, \"label\", 6);\n        i0.ɵɵtext(21, \"Dia fechamento\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"input\", 11);\n        i0.ɵɵlistener(\"focusout\", function IncluirCartaoComponent_Template_input_focusout_22_listener() {\n          return ctx.campoObrigatorio(\"txtDiaFechamento\");\n        })(\"keypress\", function IncluirCartaoComponent_Template_input_keypress_22_listener($event) {\n          return ctx.apenasNumeros($event);\n        })(\"paste\", function IncluirCartaoComponent_Template_input_paste_22_listener($event) {\n          return ctx.apenasNumeros($event);\n        })(\"ngModelChange\", function IncluirCartaoComponent_Template_input_ngModelChange_22_listener($event) {\n          return ctx.Cartao.DiaFechamento = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(23, \"label\", 12);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(24, \"div\", 3)(25, \"div\", 13)(26, \"div\", 5)(27, \"button\", 14);\n        i0.ɵɵtext(28, \"Salvar\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"button\", 15);\n        i0.ɵɵlistener(\"click\", function IncluirCartaoComponent_Template_button_click_29_listener() {\n          return ctx.cancelar();\n        });\n        i0.ɵɵtext(30, \"Cancelar\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngModel\", ctx.Cartao.Nome);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.Cartao.DiaVencimento);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.Cartao.DiaFechamento);\n      }\n    },\n    dependencies: [i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.NgModel, i5.NgForm],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["IncluirCartaoComponent","constructor","cartaoService","validacaoService","respostaApiService","router","ngOnInit","salvarCartao","validarCamposObrigatorios","incluir","Cartao","subscribe","next","result","tratarRespostaApi","navigate","error","err","cancelar","variavel","erros","camposObrigatorios","forEach","campo","campoObrigatorio","campoId","document","getElementById","campoErro","value","undefined","tagName","classList","add","style","display","innerHTML","remove","apenasNumeros","event","preventDefault","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["D:\\GIT\\HomeTools\\003-Frontend\\HomeTools.Front\\src\\app\\components\\financas\\cartoes\\incluir-cartao\\incluir-cartao.component.ts","D:\\GIT\\HomeTools\\003-Frontend\\HomeTools.Front\\src\\app\\components\\financas\\cartoes\\incluir-cartao\\incluir-cartao.component.html"],"sourcesContent":["import { CreateCartaoDto } from 'src/app/dto/financas/cartoes/createCartaoDto';\nimport { Cartao } from './../../../../interfaces/financas/Cartao';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ValidacaoService } from 'src/app/services/validacao.service';\nimport { CartaoService } from 'src/app/services/Financas/cartao/cartao.service';\nimport { RespostaApiService } from 'src/app/services/resposta-api.service';\n\n@Component({\n  selector: 'app-incluir-cartao',\n  templateUrl: './incluir-cartao.component.html',\n  styleUrls: ['./incluir-cartao.component.css']\n})\nexport class IncluirCartaoComponent implements OnInit {\n\n  Cartao: CreateCartaoDto = {} as CreateCartaoDto;\n\n  constructor(\n    private cartaoService: CartaoService,\n    private validacaoService: ValidacaoService,\n    private respostaApiService: RespostaApiService,\n    private router: Router\n  ) { }\n\n  ngOnInit(): void {\n  }\n\n  salvarCartao() {\n    if (!this.validarCamposObrigatorios(true)) {\n      return;\n    }\n    this.cartaoService.incluir(this.Cartao).subscribe({\n      next: (result) => {\n        this.respostaApiService.tratarRespostaApi(result);\n        this.router.navigate(['/cartoes']);\n      },\n      error: (err) => {\n        this.respostaApiService.tratarRespostaApi(err);\n      }\n    });\n  }\n\n  cancelar() {\n    this.router.navigate(['/cartoes']);\n  }\n\n  //#region Validações\n\n  validarCamposObrigatorios(variavel: boolean): boolean {\n    let erros: number = 0;\n    let camposObrigatorios = ['txtNome', 'txtDiaVencimento', 'txtDiaFechamento'];\n    camposObrigatorios.forEach(campo => {\n      if (!this.campoObrigatorio(campo)) {\n        erros++;\n      }\n    });\n    return erros == 0 ? true : false;\n  }\n\n  campoObrigatorio(campoId: string): boolean {\n    let campo = <HTMLInputElement>document.getElementById(campoId)!;\n    let campoErro = document.getElementById('erro_' + campoId)!;\n    if (campo.value === \"\" || campo.value == null || campo.value == undefined || (campo.tagName == 'SELECT' && campo.value == '0')) {\n      campo.classList.add('campo-obrigatorio');\n      campoErro.style.display = 'block';\n      campoErro.innerHTML = \"Campo obrigatório\";\n      return false;\n    }\n    else {\n      campoErro.style.display = 'none';\n      campo.classList.remove('campo-obrigatorio');\n      return true;\n    }\n  }\n\n  apenasNumeros(event: any) {\n    if (!this.validacaoService.apenasNumeros(event)) {\n      event.preventDefault();\n    }\n  }\n\n  //#endregion\n}\n","<div class=\"container main ff-verdana\">\n  <div class=\"titulo-pagina ff-verdana\">\n    <h1>Incluir Cartão</h1>\n  </div>\n  <form (ngSubmit)=\"salvarCartao()\" class=\"form conteudo-pagina\">\n    <div class=\"row\">\n      <div class=\"col-4\">\n        <div class=\"form-group\">\n          <label for=\"nome\">Nome</label>\n          <input type=\"text\" class=\"form-control\" id=\"txtNome\" name=\"Nome\" placeholder=\"Nome\"\n          (focusout)=\"campoObrigatorio('txtNome')\" [(ngModel)]=\"Cartao.Nome\">\n          <label class=\"form-validation\" id=\"erro_txtNome\"></label>\n        </div>\n      </div>\n      <div class=\"col-4\">\n        <div class=\"form-group\">\n          <label for=\"nome\">Dia vencimento</label>\n          <input type=\"text\" class=\"form-control\" id=\"txtDiaVencimento\" name=\"DiaVencimento\" placeholder=\"Dia vencimento\"\n          (focusout)=\"campoObrigatorio('txtDiaVencimento')\"\n          (keypress)=\"apenasNumeros($event)\" (paste)=\"apenasNumeros($event)\" [(ngModel)]=\"Cartao.DiaVencimento\">\n          <label class=\"form-validation\" id=\"erro_txtDiaVencimento\"></label>\n        </div>\n      </div>\n      <div class=\"col-4\">\n        <div class=\"form-group\">\n          <label for=\"nome\">Dia fechamento</label>\n          <input type=\"text\" class=\"form-control\" id=\"txtDiaFechamento\" name=\"DiaFechamento\" placeholder=\"Dia fechamento\"\n          (focusout)=\"campoObrigatorio('txtDiaFechamento')\"\n          (keypress)=\"apenasNumeros($event)\" (paste)=\"apenasNumeros($event)\" [(ngModel)]=\"Cartao.DiaFechamento\">\n          <label class=\"form-validation\" id=\"erro_txtDiaFechamento\"></label>\n        </div>\n      </div>\n    </div>\n    <div class=\"row\">\n      <div class=\"col-12\">\n        <div class=\"form-group\">\n          <button type=\"submit\" id=\"btnSumbit\" title=\"Salvar\" class=\"btn\">Salvar</button>\n          <button type=\"button\" id=\"btnCancelar\" title=\"Cancelar\" class=\"btn btn-red\" (click)=\"cancelar()\">Cancelar</button>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}